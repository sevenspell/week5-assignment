<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <!--jQuery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js" type="text/javascript"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js" type="text/javascript"></script>
    <script src="./scheduler.js" type="text/javascript"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!--My own CSS-->
    <link rel="stylesheet" type="text/css" href="./schedulerstyle.css">

    <!--Favicon-->
    <!-- <link rel="shortcut icon" href="./Assets/Images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="./Assets/Images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./Assets/Images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./Assets/Images/favicon-16x16.png">
    <link rel="manifest" href="./Assets/Images/site.webmanifest"> -->

    <title>Rp's Work Day Scheduler</title>
</head>

<body>

    <header>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-sm-6 offset-sm-2" id="header">
                    <h2 class="h2">Work Day Scheduler</h2>
                </div>
            </div>
        </div>
    </header>

    <br>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-sm-8" id="snippet">
                <h5 class="h5">A hour-by-hour scheduler to manage your day more efficiently.</h5>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-sm-6 offset-sm-2" id="datetitle">
            </div>
        </div>
    </div>

    <hr id="linebreak">

    <div class="container" id="schedulecontainer">
        <div class="row justify-content-left hourlyrow" id="hourlyrow">
            <!-- <div class="col-sm-1 hour" id="hour">
                
            </div>
            <div class="col-sm-10 task" id="task">
                Enter Task
            </div>
            <div class="col-sm-1 save" id="save">
                Save
            </div> -->
        </div>
    </div>

    <div class="form-group">
        &nbsp;
    </div>

    <div class="form-group">
        &nbsp;
    </div>

    <div class="form-group">
        &nbsp;
    </div>

    <!-- Footer-->
    <div class="footer">
        <div class="fixed-bottom">
            <p class="text-muted">Copyright &#169;</p>
        </div>
    </div>




    <!--jQuery and moment.js pseudocoding-->
    <script type="text/javascript">

        $(document).ready(function () {

        
        //variables

        //functions
        function init(){
            $("#hour").empty();
            $("#task").empty();
        }

        //1. initialize at start of day
        //clear scheduler
        init();
        //display current day and date
            var dateTitle = moment().format("dddd, MMMM Do");
            $("#datetitle").append(dateTitle);

        //create array for hours
        var hourlySlots = [moment().format('00:00'),moment().format('01:00'),moment().format('02:00'),moment().format('03:00'),moment().format('04:00'),moment().format('05:00'),moment().format('06:00'),moment().format('07:00'),moment().format('08:00'),moment().format('09:00'),moment().format('10:00'),moment().format('11:00'),moment().format('12:00'),moment().format('13:00'),moment().format('14:00'),moment().format('15:00'),moment().format('16:00'), moment().format('17:00'), moment().format('18:00'), moment().format('19:00'), moment().format('20:00'), moment().format('21:00'), moment().format('22:00'), moment().format('23:00')]

        
        //2. build holder of current time
        //add colour to reflect current hour slot
        //add colour to reflect past hour slots
        //add colour to reflect future hour slots
            var currentHour = moment().hour();

        //3. use for loop to create hourly slots
            for (var i = 0; i < hourlySlots.length; i++) {
                if (i < currentHour) {
                    $("#hourlyrow" + i).addClass("past");
                    $("#hourlyrow").append("<div class='container hourboxes'> <div class='row justify-content-left hourrow'> <div class='col-sm-1 hourbox'></div> <textarea class='col-sm-10 taskbox'></textarea> <div class='col-sm-1 savebox'></div> </div></div>");
                    $("#hourlyrow" + i).css({"border-width": "1px",
                                    "border-color": "#B22222",
                                    "border-style": "solid"});
                    $("#hourlyrow").append(hourlySlots[i]);
                } else if (i === currentHour) {
                    $(".hourlyrow" + i).addClass("present");
                    $("#hourlyrow").append("<div class='container hourboxes'> <div class='row justify-content-left hourrow'> <div class='col-sm-1 hourbox'></div> <textarea class='col-sm-10 taskbox'></textarea> <div class='col-sm-1 savebox'></div> </div></div>");
                    $("#hourlyrow" + i).css({"border-width": "1px",
                                    "border-color": "#B22222",
                                    "border-style": "solid"});
                    $("#hourlyrow").append(hourlySlots[i]);
                } else {
                    $("#hourlyrow" + i).addClass("future");
                    $("#hourlyrow").append("<div class='container hourboxes'> <div class='row justify-content-left hourrow'> <div class='col-sm-1 hourbox'></div> <textarea class='col-sm-10 taskbox'></textarea> <div class='col-sm-1 savebox'></div> </div></div>");
                    $("#hourlyrow" + i).css({"border-width": "1px",
                                    "border-color": "#B22222",
                                    "border-style": "solid"});
                    $("#hourlyrow").append(hourlySlots[i]);
                }
            };

            console.log(currentHour);



            //4. create textbox to allow task entries
            //5. create save button to save textbox input to local storage







        });

    </script>

</body>

</html>